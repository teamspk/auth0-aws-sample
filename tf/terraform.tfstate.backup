{
    "version": 1,
    "serial": 78,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_api_gateway_deployment.sparkl-a_deployment": {
                    "type": "aws_api_gateway_deployment",
                    "depends_on": [
                        "aws_api_gateway_integration.appointments_get",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "7h22xp",
                        "attributes": {
                            "description": "",
                            "id": "7h22xp",
                            "rest_api_id": "etgu4qrh4a",
                            "stage_name": "prod"
                        }
                    }
                },
                "aws_api_gateway_integration.appointments_get": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_get",
                        "aws_api_gateway_method.appointments_get",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agi-etgu4qrh4a-5rhr33-GET",
                        "attributes": {
                            "credentials": "",
                            "http_method": "GET",
                            "id": "agi-etgu4qrh4a-5rhr33-GET",
                            "integration_http_method": "POST",
                            "request_templates.#": "0",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a",
                            "type": "AWS",
                            "uri": "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:951720451008:function:SparklGetAppointments/invocations"
                        }
                    }
                },
                "aws_api_gateway_integration.appointments_options": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_options",
                        "aws_api_gateway_method.appointments_options",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agi-etgu4qrh4a-5rhr33-OPTIONS",
                        "attributes": {
                            "credentials": "",
                            "http_method": "OPTIONS",
                            "id": "agi-etgu4qrh4a-5rhr33-OPTIONS",
                            "integration_http_method": "POST",
                            "request_templates.#": "0",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a",
                            "type": "AWS",
                            "uri": "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:951720451008:function:NoOp/invocations"
                        }
                    }
                },
                "aws_api_gateway_integration.appointments_post": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_post",
                        "aws_api_gateway_method.appointments_post",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agi-etgu4qrh4a-5rhr33-POST",
                        "attributes": {
                            "credentials": "",
                            "http_method": "POST",
                            "id": "agi-etgu4qrh4a-5rhr33-POST",
                            "integration_http_method": "POST",
                            "request_templates.#": "0",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a",
                            "type": "AWS",
                            "uri": "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:951720451008:function:SparklCreateAppointment/invocations"
                        }
                    }
                },
                "aws_api_gateway_integration.confirm_options": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_options",
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agi-etgu4qrh4a-k3n0sk-OPTIONS",
                        "attributes": {
                            "credentials": "",
                            "http_method": "OPTIONS",
                            "id": "agi-etgu4qrh4a-k3n0sk-OPTIONS",
                            "integration_http_method": "POST",
                            "request_templates.#": "0",
                            "resource_id": "k3n0sk",
                            "rest_api_id": "etgu4qrh4a",
                            "type": "AWS",
                            "uri": "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:951720451008:function:NoOp/invocations"
                        }
                    }
                },
                "aws_api_gateway_integration.confirm_post": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agi-etgu4qrh4a-k3n0sk-POST",
                        "attributes": {
                            "credentials": "",
                            "http_method": "POST",
                            "id": "agi-etgu4qrh4a-k3n0sk-POST",
                            "integration_http_method": "POST",
                            "request_templates.#": "0",
                            "resource_id": "k3n0sk",
                            "rest_api_id": "etgu4qrh4a",
                            "type": "AWS",
                            "uri": "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:951720451008:function:SparklConfirmAppointment/invocations"
                        }
                    }
                },
                "aws_api_gateway_integration_response.appointments_get_200": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_get",
                        "aws_api_gateway_method_response.appointments_get_200",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-5rhr33-GET-200",
                        "attributes": {
                            "http_method": "GET",
                            "id": "agir-etgu4qrh4a-5rhr33-GET-200",
                            "resource_id": "5rhr33",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Methods\": \"'POST, GET, OPTIONS'\",\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": "",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_integration_response.appointments_options_200": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_options",
                        "aws_api_gateway_method_response.appointments_options_200",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-5rhr33-OPTIONS-200",
                        "attributes": {
                            "http_method": "OPTIONS",
                            "id": "agir-etgu4qrh4a-5rhr33-OPTIONS-200",
                            "resource_id": "5rhr33",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Headers\": \"'Content-Type,X-Amz-Date,Authorization,X-Api-Key, Access-Control-Allow-Origin, x-amz-security-token'\",\n    \"method.response.header.Access-Control-Allow-Methods\": \"'POST, GET, OPTIONS'\",\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": "",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_integration_response.appointments_post_200": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_post",
                        "aws_api_gateway_method_response.appointments_post_200",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-5rhr33-POST-200",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agir-etgu4qrh4a-5rhr33-POST-200",
                            "resource_id": "5rhr33",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Methods\": \"'POST, GET, OPTIONS'\",\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": "",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_integration_response.confirm_options_200": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_options",
                        "aws_api_gateway_method_response.confirm_options_200",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-k3n0sk-OPTIONS-200",
                        "attributes": {
                            "http_method": "OPTIONS",
                            "id": "agir-etgu4qrh4a-k3n0sk-OPTIONS-200",
                            "resource_id": "k3n0sk",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Headers\": \"'Content-Type,X-Amz-Date,Authorization,X-Api-Key, Access-Control-Allow-Origin, x-amz-security-token'\",\n    \"method.response.header.Access-Control-Allow-Methods\": \"'POST, GET, OPTIONS'\",\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": ".*(fail|not available).*",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_integration_response.confirm_post_200": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_method_response.confirm_post_200",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-k3n0sk-POST-200",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agir-etgu4qrh4a-k3n0sk-POST-200",
                            "resource_id": "k3n0sk",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": "",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_integration_response.confirm_post_403": {
                    "type": "aws_api_gateway_integration_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_method_response.confirm_post_403",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agir-etgu4qrh4a-k3n0sk-POST-403",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agir-etgu4qrh4a-k3n0sk-POST-403",
                            "resource_id": "k3n0sk",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n  }\n  ",
                            "response_templates.#": "1",
                            "response_templates.application/json": "",
                            "rest_api_id": "etgu4qrh4a",
                            "selection_pattern": ".*(fail|not available).*",
                            "status_code": "403"
                        }
                    }
                },
                "aws_api_gateway_method.appointments_get": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agm-etgu4qrh4a-5rhr33-GET",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "NONE",
                            "http_method": "GET",
                            "id": "agm-etgu4qrh4a-5rhr33-GET",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_method.appointments_options": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agm-etgu4qrh4a-5rhr33-OPTIONS",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "NONE",
                            "http_method": "OPTIONS",
                            "id": "agm-etgu4qrh4a-5rhr33-OPTIONS",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_method.appointments_post": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agm-etgu4qrh4a-5rhr33-POST",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "AWS_IAM",
                            "http_method": "POST",
                            "id": "agm-etgu4qrh4a-5rhr33-POST",
                            "resource_id": "5rhr33",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_method.confirm_options": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agm-etgu4qrh4a-k3n0sk-OPTIONS",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "NONE",
                            "http_method": "OPTIONS",
                            "id": "agm-etgu4qrh4a-k3n0sk-OPTIONS",
                            "resource_id": "k3n0sk",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_method.confirm_post": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agm-etgu4qrh4a-k3n0sk-POST",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "AWS_IAM",
                            "http_method": "POST",
                            "id": "agm-etgu4qrh4a-k3n0sk-POST",
                            "resource_id": "k3n0sk",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_method_response.appointments_get_200": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_get",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-5rhr33-GET-200",
                        "attributes": {
                            "http_method": "GET",
                            "id": "agmr-etgu4qrh4a-5rhr33-GET-200",
                            "resource_id": "5rhr33",
                            "response_models.#": "1",
                            "response_models.application/json": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Methods\": true,\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_method_response.appointments_options_200": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_options",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-5rhr33-OPTIONS-200",
                        "attributes": {
                            "http_method": "OPTIONS",
                            "id": "agmr-etgu4qrh4a-5rhr33-OPTIONS-200",
                            "resource_id": "5rhr33",
                            "response_models.#": "1",
                            "response_models.application/json": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Headers\": true,\n    \"method.response.header.Access-Control-Allow-Methods\": true,\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_method_response.appointments_post_200": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.appointments_post",
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-5rhr33-POST-200",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agmr-etgu4qrh4a-5rhr33-POST-200",
                            "resource_id": "5rhr33",
                            "response_models.#": "1",
                            "response_models.application/json": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Methods\": true,\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_method_response.confirm_options_200": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_options",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-k3n0sk-OPTIONS-200",
                        "attributes": {
                            "http_method": "OPTIONS",
                            "id": "agmr-etgu4qrh4a-k3n0sk-OPTIONS-200",
                            "resource_id": "k3n0sk",
                            "response_models.#": "1",
                            "response_models.application/json; charset=utf-8": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Headers\": true,\n    \"method.response.header.Access-Control-Allow-Methods\": true,\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_method_response.confirm_post_200": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-k3n0sk-POST-200",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agmr-etgu4qrh4a-k3n0sk-POST-200",
                            "resource_id": "k3n0sk",
                            "response_models.#": "1",
                            "response_models.application/json": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "200"
                        }
                    }
                },
                "aws_api_gateway_method_response.confirm_post_403": {
                    "type": "aws_api_gateway_method_response",
                    "depends_on": [
                        "aws_api_gateway_method.confirm_post",
                        "aws_api_gateway_method_response.confirm_post_200",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "agmr-etgu4qrh4a-k3n0sk-POST-403",
                        "attributes": {
                            "http_method": "POST",
                            "id": "agmr-etgu4qrh4a-k3n0sk-POST-403",
                            "resource_id": "k3n0sk",
                            "response_models.#": "1",
                            "response_models.application/json": "Empty",
                            "response_parameters_in_json": "  {\n    \"method.response.header.Access-Control-Allow-Origin\": true\n  }\n  ",
                            "rest_api_id": "etgu4qrh4a",
                            "status_code": "403"
                        }
                    }
                },
                "aws_api_gateway_resource.appointments": {
                    "type": "aws_api_gateway_resource",
                    "depends_on": [
                        "aws_api_gateway_rest_api.sparkl-a",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "5rhr33",
                        "attributes": {
                            "id": "5rhr33",
                            "parent_id": "5i1832s2s8",
                            "path": "/appointments",
                            "path_part": "appointments",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_resource.confirm": {
                    "type": "aws_api_gateway_resource",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "k3n0sk",
                        "attributes": {
                            "id": "k3n0sk",
                            "parent_id": "5rhr33",
                            "path": "/appointments/confirm",
                            "path_part": "confirm",
                            "rest_api_id": "etgu4qrh4a"
                        }
                    }
                },
                "aws_api_gateway_rest_api.sparkl-a": {
                    "type": "aws_api_gateway_rest_api",
                    "primary": {
                        "id": "etgu4qrh4a",
                        "attributes": {
                            "description": "sparkl appointments",
                            "id": "etgu4qrh4a",
                            "name": "sparkl-a",
                            "root_resource_id": "5i1832s2s8"
                        }
                    }
                },
                "aws_dynamodb_table.sparkl-appointments": {
                    "type": "aws_dynamodb_table",
                    "primary": {
                        "id": "sparkl-appointments",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:ap-northeast-1:951720451008:table/sparkl-appointments",
                            "attribute.#": "2",
                            "attribute.2732823942.name": "created_at",
                            "attribute.2732823942.type": "S",
                            "attribute.4272357266.name": "client_project",
                            "attribute.4272357266.type": "S",
                            "global_secondary_index.#": "0",
                            "hash_key": "client_project",
                            "id": "sparkl-appointments",
                            "name": "sparkl-appointments",
                            "range_key": "created_at",
                            "read_capacity": "1",
                            "stream_arn": "arn:aws:dynamodb:ap-northeast-1:951720451008:table/sparkl-appointments/stream/2016-04-29T09:29:16.495",
                            "stream_enabled": "true",
                            "stream_view_type": "NEW_AND_OLD_IMAGES",
                            "write_capacity": "1"
                        }
                    }
                },
                "aws_iam_policy_attachment.lambda-invoke": {
                    "type": "aws_iam_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.lambda_exec_role"
                    ],
                    "primary": {
                        "id": "lambdal-invoke",
                        "attributes": {
                            "groups.#": "0",
                            "id": "lambdal-invoke",
                            "name": "lambdal-invoke",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaRole",
                            "roles.#": "1",
                            "roles.3695543592": "lambda_exec_role",
                            "users.#": "0"
                        }
                    }
                },
                "aws_iam_role.APIGatewayLambdaExecRole2": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "APIGatewayLambdaExecRole2",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:role/APIGatewayLambdaExecRole2",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "APIGatewayLambdaExecRole2",
                            "name": "APIGatewayLambdaExecRole2",
                            "path": "/",
                            "unique_id": "AROAJUP2Q73KRK5GA6JUA"
                        }
                    }
                },
                "aws_iam_role.auth0-api-role": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "auth0-api-role",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:role/auth0-api-role",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"arn:aws:iam::951720451008:saml-provider/auth0-provider\"\n      },\n      \"Action\": \"sts:AssumeRoleWithSAML\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"SAML:iss\": \"urn:ijin.auth0.com\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"gateway\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "auth0-api-role",
                            "name": "auth0-api-role",
                            "path": "/",
                            "unique_id": "AROAI7UCJSOWBAATCSUP2"
                        }
                    }
                },
                "aws_iam_role.auth0-api-social-role": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "auth0-api-social-role",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:role/auth0-api-social-role",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Federated\": \"arn:aws:iam::951720451008:saml-provider/auth0-provider\"\n      },\n      \"Action\": \"sts:AssumeRoleWithSAML\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"SAML:iss\": \"urn:ijin.auth0.com\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"gateway\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "auth0-api-social-role",
                            "name": "auth0-api-social-role",
                            "path": "/",
                            "unique_id": "AROAI3MPKORLWTOJG3YE2"
                        }
                    }
                },
                "aws_iam_role.lambda_dynamo_streams": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "lambda_dynamo_streams",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:role/lambda_dynamo_streams",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "lambda_dynamo_streams",
                            "name": "lambda_dynamo_streams",
                            "path": "/",
                            "unique_id": "AROAJ7TJ4Y4PTCOOUFHCS"
                        }
                    }
                },
                "aws_iam_role.lambda_exec_role": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "lambda_exec_role",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:role/lambda_exec_role",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "lambda_exec_role",
                            "name": "lambda_exec_role",
                            "path": "/",
                            "unique_id": "AROAIGT53AN7L2AYRCYBY"
                        }
                    }
                },
                "aws_iam_role_policy.LogAndDynamoDBAccess": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.APIGatewayLambdaExecRole2"
                    ],
                    "primary": {
                        "id": "APIGatewayLambdaExecRole2:LogAndDynamoDBAccess",
                        "attributes": {
                            "id": "APIGatewayLambdaExecRole2:LogAndDynamoDBAccess",
                            "name": "LogAndDynamoDBAccess",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"AccessCloudwatchLogs\",\n            \"Action\": [\n                \"logs:*\"\n            ],\n            \"Effect\": \"Allow\",\n            \"Resource\": \"arn:aws:logs:*:*:*\"\n        },\n        {\n            \"Sid\": \"DynamoDBReadWrite\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"dynamodb:DeleteItem\",\n                \"dynamodb:GetItem\",\n                \"dynamodb:GetRecords\",\n                \"dynamodb:GetShardIterator\",\n                \"dynamodb:DescribeStream\",\n                \"dynamodb:ListStreams\",\n                \"dynamodb:BatchGetItem\",\n                \"dynamodb:BatchWriteItem\",\n                \"dynamodb:PutItem\",\n                \"dynamodb:UpdateItem\",\n                \"dynamodb:Query\",\n                \"dynamodb:Scan\"\n            ],\n            \"Resource\": [\n                \"arn:aws:dynamodb:ap-northeast-1:951720451008:table/sparkl-*\"\n            ]\n        }\n    ]\n}\n",
                            "role": "APIGatewayLambdaExecRole2"
                        }
                    }
                },
                "aws_iam_role_policy.admin-policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.auth0-api-role"
                    ],
                    "primary": {
                        "id": "auth0-api-role:admin-policy",
                        "attributes": {
                            "id": "auth0-api-role:admin-policy",
                            "name": "admin-policy",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"execute-api:*\"\n            ],\n            \"Resource\": [\n                \"arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/prod/*/appointments\"\n            ]\n        }\n    ]\n}\n",
                            "role": "auth0-api-role"
                        }
                    }
                },
                "aws_iam_role_policy.lambda_dynamo_streams": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.lambda_dynamo_streams"
                    ],
                    "primary": {
                        "id": "lambda_dynamo_streams:lambda_dynamo_streams",
                        "attributes": {
                            "id": "lambda_dynamo_streams:lambda_dynamo_streams",
                            "name": "lambda_dynamo_streams",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"lambda:InvokeFunction\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:GetRecords\",\n        \"dynamodb:GetShardIterator\",\n        \"dynamodb:DescribeStream\",\n        \"dynamodb:ListStreams\",\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n",
                            "role": "lambda_dynamo_streams"
                        }
                    }
                },
                "aws_iam_role_policy.lambda_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.lambda_exec_role"
                    ],
                    "primary": {
                        "id": "lambda_exec_role:lambda_policy",
                        "attributes": {
                            "id": "lambda_exec_role:lambda_policy",
                            "name": "lambda_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"arn:aws:logs:*:*:*\"\n    }\n  ]\n}\n",
                            "role": "lambda_exec_role"
                        }
                    }
                },
                "aws_iam_role_policy.users-policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.auth0-api-social-role"
                    ],
                    "primary": {
                        "id": "auth0-api-social-role:users-policy",
                        "attributes": {
                            "id": "auth0-api-social-role:users-policy",
                            "name": "users-policy",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"execute-api:*\"\n            ],\n            \"Resource\": [\n                \"arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/prod/*/appointments/confirm\"\n            ]\n        }\n    ]\n}\n",
                            "role": "auth0-api-social-role"
                        }
                    }
                },
                "aws_iam_saml_provider.auth0-provider": {
                    "type": "aws_iam_saml_provider",
                    "primary": {
                        "id": "arn:aws:iam::951720451008:saml-provider/auth0-provider",
                        "attributes": {
                            "arn": "arn:aws:iam::951720451008:saml-provider/auth0-provider",
                            "id": "arn:aws:iam::951720451008:saml-provider/auth0-provider",
                            "name": "auth0-provider",
                            "saml_metadata_document": "\u003cEntityDescriptor entityID=\"urn:ijin.auth0.com\" xmlns=\"urn:oasis:names:tc:SAML:2.0:metadata\"\u003e  \u003cIDPSSODescriptor protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"\u003e    \u003cKeyDescriptor use=\"signing\"\u003e      \u003cKeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"\u003e        \u003cX509Data\u003e          \u003cX509Certificate\u003eMIIC5DCCAcygAwIBAgIJZpgS4bBM5VgeMA0GCSqGSIb3DQEBBQUAMBkxFzAVBgNVBAMTDmlqaW4uYXV0aDAuY29tMB4XDTE2MDEzMDE1NDkzMFoXDTI5MTAwODE1NDkzMFowGTEXMBUGA1UEAxMOaWppbi5hdXRoMC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCxhCOfQn5U8FK5KhRMxZ2kZKNtxSL6O5DdGjb4MqZY89XLHFS+ggdoOT1p4UbgLIzTDhVJilD9qOZ/lAld09yQoofoJIRe4tr8X9p8NWlfK9GNGBsMc7kQ51t9Jhl8tPkgpP2TZUWQBhraqqU9LriwD6r0k7zqMqoZnygycQAWhMD6YR0ZKiNs5sMa7rCQ8bN3MJX0jVTRrFASi6byJGLsM3f4/qcxypAT1jHoDiv9reyVoz/Qy7HSDDQKAauMoyH5jEwWl6LTdJM3T3/0QklvCgKvWDv0DbJvvjytb3BJem+Xh5/U5axPVO2YJ+5vvNBuDN6GJ9kjy95fVzA6XDo3AgMBAAGjLzAtMAwGA1UdEwQFMAMBAf8wHQYDVR0OBBYEFINCGG6WIvIs3R5QqSv00yEZcHImMA0GCSqGSIb3DQEBBQUAA4IBAQCR7fynl7wXqsRwIou3ewl8eRFQ0rOzFMumWHJiFbrsgfuxbkdSVFzfM5uPnyMLjZSm/ibIaHIpX6gUmXNIKxb8TCMITs8Cg90M/xBO+EBvWidi82RYGG3Dou0ooXu8gcBHlr11HLXwqxT3pW90ZWxTw1kSGTHe0hik1/csW3YHMFIAnNz9TaYLUNVAvCMaN+024tY6v+ofPpEV4L6tNVrk8iVT3/74ocEASnu8BzwUJEg0VKTRqqRf93EPTvW8vV7bqZ5BaP3wjpdn2jI1iyBp4mBZqHqkiE6Ep0/OcetAelMwpRY+JqD4Y5AgOS28lMg0AJvthdoWGIefIXVSAr4B\u003c/X509Certificate\u003e        \u003c/X509Data\u003e      \u003c/KeyInfo\u003e    \u003c/KeyDescriptor\u003e        \u003cSingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://ijin.auth0.com/logout\"/\u003e            \u003cSingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://ijin.auth0.com/samlp/iDC9GHTe9nM2w1L146zn2o7qxEgpoEZI/logout\"/\u003e        \u003cNameIDFormat\u003eurn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\u003c/NameIDFormat\u003e    \u003cNameIDFormat\u003eurn:oasis:names:tc:SAML:2.0:nameid-format:persistent\u003c/NameIDFormat\u003e    \u003cNameIDFormat\u003eurn:oasis:names:tc:SAML:2.0:nameid-format:transient\u003c/NameIDFormat\u003e    \u003cSingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://ijin.auth0.com/samlp/iDC9GHTe9nM2w1L146zn2o7qxEgpoEZI\"/\u003e    \u003cSingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://ijin.auth0.com/samlp/iDC9GHTe9nM2w1L146zn2o7qxEgpoEZI\"/\u003e        \u003cAttribute Name=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\" NameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\" FriendlyName=\"E-Mail Address\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"/\u003e        \u003cAttribute Name=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname\" NameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\" FriendlyName=\"Given Name\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"/\u003e        \u003cAttribute Name=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\" NameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\" FriendlyName=\"Name\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"/\u003e        \u003cAttribute Name=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname\" NameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\" FriendlyName=\"Surname\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"/\u003e        \u003cAttribute Name=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\" NameFormat=\"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\" FriendlyName=\"Name ID\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"/\u003e      \u003c/IDPSSODescriptor\u003e\u003c/EntityDescriptor\u003e",
                            "valid_until": "Sat, 02 May 2116 14:46:26 UTC"
                        }
                    }
                },
                "aws_lambda_permission.apigw_appo_get": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "apigw_appo_get",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "SparklGetAppointments",
                            "id": "apigw_appo_get",
                            "principal": "apigateway.amazonaws.com",
                            "source_arn": "arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/*/GET/appointments",
                            "statement_id": "apigw_appo_get"
                        }
                    }
                },
                "aws_lambda_permission.apigw_appo_options": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "apigw_appo_options",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "NoOp",
                            "id": "apigw_appo_options",
                            "principal": "apigateway.amazonaws.com",
                            "source_arn": "arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/*/OPTIONS/appointments",
                            "statement_id": "apigw_appo_options"
                        }
                    }
                },
                "aws_lambda_permission.apigw_appo_post": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "apigw_appo_post",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "SparklCreateAppointment",
                            "id": "apigw_appo_post",
                            "principal": "apigateway.amazonaws.com",
                            "source_arn": "arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/*/POST/appointments",
                            "statement_id": "apigw_appo_post"
                        }
                    }
                },
                "aws_lambda_permission.apigw_confirm_options": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "apigw_confirm_options",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "NoOp",
                            "id": "apigw_confirm_options",
                            "principal": "apigateway.amazonaws.com",
                            "source_arn": "arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/*/OPTIONS/appointments/confirm",
                            "statement_id": "apigw_confirm_options"
                        }
                    }
                },
                "aws_lambda_permission.apigw_confirm_post": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_resource.appointments",
                        "aws_api_gateway_resource.confirm",
                        "aws_api_gateway_rest_api.sparkl-a"
                    ],
                    "primary": {
                        "id": "apigw_confirm_post",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "SparklConfirmAppointment",
                            "id": "apigw_confirm_post",
                            "principal": "apigateway.amazonaws.com",
                            "source_arn": "arn:aws:execute-api:ap-northeast-1:951720451008:etgu4qrh4a/*/POST/appointments/confirm",
                            "statement_id": "apigw_confirm_post"
                        }
                    }
                },
                "aws_s3_bucket.s3-site": {
                    "type": "aws_s3_bucket",
                    "primary": {
                        "id": "sparkl-a",
                        "attributes": {
                            "acl": "public-read",
                            "arn": "arn:aws:s3:::sparkl-a",
                            "bucket": "sparkl-a",
                            "cors_rule.#": "0",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z2M4EHUR26P7ZW",
                            "id": "sparkl-a",
                            "policy": "{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"arn:aws:s3:::sparkl-a/*\",\"Sid\":\"PublicReadGetObject\"}],\"Version\":\"2012-10-17\"}",
                            "region": "ap-northeast-1",
                            "tags.#": "2",
                            "tags.Env": "production",
                            "tags.Name": "sparkl-a",
                            "website.#": "1",
                            "website.0.error_document": "",
                            "website.0.index_document": "index.html",
                            "website.0.redirect_all_requests_to": "",
                            "website.0.routing_rules": "",
                            "website_domain": "s3-website-ap-northeast-1.amazonaws.com",
                            "website_endpoint": "sparkl-a.s3-website-ap-northeast-1.amazonaws.com"
                        }
                    }
                }
            }
        }
    ]
}
